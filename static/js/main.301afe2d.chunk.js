(this.webpackJsonpsamgo=this.webpackJsonpsamgo||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(28),r=c.n(s),i=c(9),j=c.n(i),l=c(15),o=c(8),u=c(18),b=c(5),d=c(19);c(35),c(51),c(50);d.a.initializeApp({apiKey:"AIzaSyCO9_B6uD5flAA32XQAtQcFikvCImXjw-g",authDomain:"samgo-attendance.firebaseapp.com",projectId:"samgo-attendance",storageBucket:"samgo-attendance.appspot.com",messagingSenderId:"121828229215",appId:"1:121828229215:web:37b019f650ac8614891bea",measurementId:"G-7K8B9SSVP2"});for(var O=d.a,x=d.a.auth(),p=d.a.firestore(),h=(d.a.storage(),c(38),c(39),c(1)),m=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],u=r[1],b=Object(n.useState)(""),d=Object(o.a)(b,2),m=d[0],f=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),N=v[0],w=v[1],y=Object(n.useState)(""),k=Object(o.a)(y,2),S=k[0],_=k[1],C=Object(n.useState)("\ub2f4\uc784"),P=Object(o.a)(C,2),A=P[0],I=P[1],E=Object(n.useState)(""),q=Object(o.a)(E,2),F=q[0],D=q[1],R=Object(n.useState)(""),U=Object(o.a)(R,2),V=U[0],M=U[1],B=Object(n.useState)(""),L=Object(o.a)(B,2),z=L[0],H=L[1],J=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.setPersistence(O.auth.Auth.Persistence.SESSION).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){J()}),[]);var K=function(e){var t=e.target,c=t.value,n=t.name;"email"===n?u(c):"password"===n?w(c):"passwordChk"===n?_(c):"name"===n?f(c):"roleRadio"===n?I(c):"grade"===n?D(c):"class"===n&&M(c)},Q=function(e){var t;switch(e.code){case"auth/user-not-found":t="\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4.";break;case"auth/email-already-in-use":t="\ud574\ub2f9 \uc774\uba54\uc77c\uc740 \uc774\ubbf8 \uc0ac\uc6a9\uc911\uc785\ub2c8\ub2e4.";break;case"auth/wrong-password":t="\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.";break;case"auth/too-many-requests":t="\ub108\ubb34 \ub9ce\uc740 \uc694\uccad\uc774 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc2ed\uc2dc\uc624.";break;case"auth/weak-password":t="\ube44\ubc00\ubc88\ud638\uc758 \ucd5c\uc18c \uae38\uc774\ub294 6\uc790\ub9ac \uc785\ub2c8\ub2e4.";break;default:t="\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ucf54\ub4dc ".concat(e.code)}H(t)},T=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!c){e.next=8;break}if(N===S){e.next=7;break}return H("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),e.abrupt("return");case 7:H("");case 8:if(e.prev=8,!c){e.next=20;break}return e.next=12,x.createUserWithEmailAndPassword(i,N).catch((function(e){throw console.log(e),e}));case 12:return a=x.currentUser,n="\ub2f4\uc784"===A?{uid:a.uid,name:m,email:i,grade:F,classNo:V,role:A+"\uc120\uc0dd\ub2d8",registeredAt:new Date}:{uid:a.uid,name:m,email:i,role:A+"\uc120\uc0dd\ub2d8",registeredAt:new Date},e.next=16,p.collection("teacher").doc(n.uid).set(n);case 16:return e.next=18,x.currentUser.updateProfile({displayName:m}).then((function(){window.location.reload()}));case 18:e.next=22;break;case 20:return e.next=22,x.signInWithEmailAndPassword(i,N).catch((function(e){throw console.log(e),e}));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(8),console.log(e.t0),Q(e.t0);case 28:case"end":return e.stop()}}),e,null,[[8,24]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=6;break}return e.next=4,x.setPersistence(O.auth.Auth.Persistence.LOCAL);case 4:e.next=8;break;case 6:return e.next=8,x.setPersistence(O.auth.Auth.Persistence.SESSION);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){return a((function(e){return H(""),!e}))},G=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=prompt("\ube44\ubc00\ubc88\ud638\ub97c \uc7ac\uc124\uc815\ud560 \uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.next=3,x.sendPasswordResetEmail(t).then((function(){alert("\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815 \uc774\uba54\uc77c\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4! \uba54\uc77c\ud568\uc5d0\uc11c \ud655\uc778\ud574\uc8fc\uc138\uc694.")})).catch((function(e){console.log(e),alert("\uacc4\uc815\uc5d0 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc774\uac70\ub098, \uc774\uba54\uc77c\uc744 \ubcf4\ub0b4\ub294 \uc911\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("form",{onSubmit:T,children:[c?Object(h.jsxs)("div",{className:"input_form",children:[Object(h.jsx)("h1",{className:"title",children:"\ud68c\uc6d0\uac00\uc785"}),Object(h.jsx)("p",{className:"description",children:"\uc0bc\ucc99\uace0\ub4f1\ud559\uad50 \ucd9c\uc11d\uccb4\ud06c \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\ub824\uba74 \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),Object(h.jsx)("input",{className:"input_box",name:"name",type:"text",value:m,placeholder:"\uc774\ub984",onChange:K,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{className:"input_box",name:"email",type:"email",value:i,placeholder:"\uc774\uba54\uc77c",onChange:K,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{className:"input_box",name:"password",type:"password",value:N,placeholder:"\ube44\ubc00\ubc88\ud638",onChange:K,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{className:"input_box",name:"passwordChk",type:"password",value:S,placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",onInput:K,required:!0}),Object(h.jsx)("br",{}),"\ub2f4\uc784"===A?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{className:"input_box",name:"grade",type:"number",value:F,onChange:K,placeholder:"\ud559\ub144",required:!0}),Object(h.jsx)("input",{className:"input_box",name:"class",type:"number",value:V,onChange:K,placeholder:"\ubc18",required:!0}),Object(h.jsx)("br",{})]}):"",Object(h.jsxs)("label",{htmlFor:"roleRadio1",className:"role_radio",children:[Object(h.jsx)("input",{id:"roleRadio1",name:"roleRadio",type:"radio",value:"\ub2f4\uc784",onClick:K,required:!0,defaultChecked:!0}),Object(h.jsx)("span",{className:"caption",children:"\ub2f4\uc784\uc120\uc0dd\ub2d8"})]}),Object(h.jsxs)("label",{htmlFor:"roleRadio2",className:"role_radio",children:[Object(h.jsx)("input",{id:"roleRadio2",name:"roleRadio",type:"radio",value:"\uad50\uacfc",onClick:K,required:!0}),Object(h.jsx)("span",{className:"caption",children:"\uad50\uacfc\uc120\uc0dd\ub2d8"})]}),Object(h.jsxs)("label",{htmlFor:"persistence",className:"persistence",children:[Object(h.jsx)("input",{id:"persistence",type:"checkbox",onClick:W})," ","\ub85c\uadf8\uc778 \uc0c1\ud0dc \uc720\uc9c0"]}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"error",children:z}),Object(h.jsx)("input",{type:"submit",value:"\ud68c\uc6d0\uac00\uc785",className:"submit_btn"}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{onClick:X,className:"toggle_btn",children:["\uacc4\uc815\uc774 \uc788\ub2e4\uba74? ",Object(h.jsx)("strong",{children:"\ub85c\uadf8\uc778"})]}),Object(h.jsx)("br",{})]}):Object(h.jsxs)("div",{className:"input_form",children:[Object(h.jsx)("h1",{className:"title",children:"\ub85c\uadf8\uc778"}),Object(h.jsx)("p",{className:"description",children:"\uc0bc\ucc99\uace0\ub4f1\ud559\uad50 \ucd9c\uc11d\uccb4\ud06c \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\ub824\uba74 \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),Object(h.jsx)("input",{className:"input_box",name:"email",type:"email",value:i,placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:K,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{className:"input_box",name:"password",type:"password",value:N,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:K,required:!0}),Object(h.jsxs)("label",{htmlFor:"persistence",className:"persistence",children:[Object(h.jsx)("input",{id:"persistence",type:"checkbox",onClick:W})," ","\ub85c\uadf8\uc778 \uc0c1\ud0dc \uc720\uc9c0"]}),Object(h.jsx)("span",{onClick:G,className:"forgot_password",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"error",children:z}),Object(h.jsx)("input",{type:"submit",value:"\ub85c\uadf8\uc778",className:"submit_btn"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{onClick:X,className:"toggle_btn",children:["\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694? ",Object(h.jsx)("strong",{children:"\ud68c\uc6d0\uac00\uc785"})]})]}),Object(h.jsx)("br",{})]})})},f=(c(41),function(e){e.userObj;return Object(h.jsx)("div",{className:"class_table",children:Object(h.jsx)("table",{border:"1",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"1\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"2\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"3\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"4\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"5\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"6\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"7\uad50\uc2dc"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",className:"class_time"})})]})]})})})}),g=(c(42),c.p+"static/media/rolling.fbb4e958.gif"),v=[],N=1;N<=3;N++)for(var w=1;w<=5;w++)v.push("".concat(N,"\ud559\ub144 ").concat(w,"\ubc18"));var y=function(e){var t=e.userObj,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),b=u[0],d=u[1],O=Object(n.useState)(""),p=Object(o.a)(O,2),m=(p[0],p[1]),v=Object(n.useState)([]),N=Object(o.a)(v,2),w=(N[0],N[1],function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.currentUser||x.currentUser.emailVerified){e.next=3;break}return e.next=3,x.currentUser.sendEmailVerification().then((function(){alert("\uc778\uc99d \uba54\uc77c\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4. \uba54\uc77c\ud568\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694!")})).catch((function(e){console.log(e),alert("\uc774\uba54\uc77c \ubcf4\ub0b4\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4... \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){r(!0),console.log(t)}),[]);return Object(h.jsx)(h.Fragment,{children:s?Object(h.jsx)(h.Fragment,{children:t.emailVerified?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Home"}),Object(h.jsxs)("p",{children:[t.displayName,"\ub2d8 \uc548\ub155\ud558\uc138\uc694!"]}),Object(h.jsx)(f,{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:function(){var e=new Date;m("".concat(e.getFullYear()).concat(1==String(e.getMonth()+1).length?"0".concat(String(e.getMonth()+1)):String(e.getMonth()+1)).concat(1==String(e.getDate()).length?"0".concat(String(e.getDate())):String(e.getDate())))},children:"\uc624\ub298 \uc2dc\uac04\ud45c \ucd94\uac00\ud558\uae30"})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("h3",{className:"verify_warning",children:[Object(h.jsx)("strong",{children:t.displayName}),"\uc120\uc0dd\ub2d8!",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"\uc774\uba54\uc77c \uc778\uc99d \ud6c4 \uc774\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),Object(h.jsx)("button",{onClick:function(){b?window.location.reload():(w(),d(!0))},className:"verify_btn",children:b?"\uc774\uba54\uc77c \uc778\uc99d \ud6c4 \ub20c\ub7ec\uc8fc\uc138\uc694!":"\uc778\uc99d \uc774\uba54\uc77c \ubcf4\ub0b4\uae30"})]})}):Object(h.jsxs)("div",{className:"loading_div",children:[Object(h.jsx)("img",{src:g,className:"loading",width:"50px"}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694..."})]})})},k=function(){return"404"},S=function(e){e.userObj;var t=Object(b.f)();Object(n.useEffect)((function(){console.log(x.currentUser),x.currentUser||t.push("/")}),[]);var c=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.signOut().then(t.push("/"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("button",{onClick:c,children:"\ub85c\uadf8\uc544\uc6c3"})},_=(c(47),function(e){e.userObj;return Object(h.jsxs)("div",{className:"nav_bar",children:[Object(h.jsx)("div",{className:"nav_icon",children:Object(h.jsx)(u.b,{to:"/",children:"Home"})}),Object(h.jsx)("div",{className:"nav_icon",children:Object(h.jsx)(u.b,{to:"/profile",children:"My Profile"})})]})}),C=function(e){var t=e.isLoggedIn,c=e.userObj;return Object(h.jsxs)(u.a,{children:[t?Object(h.jsx)(_,{userObj:c}):"",Object(h.jsxs)(b.c,{children:[t?Object(h.jsx)(b.a,{exact:!0,path:"/",children:Object(h.jsx)(y,{userObj:c})}):Object(h.jsx)(b.a,{exact:!0,path:"/",children:Object(h.jsx)(m,{})}),Object(h.jsx)(b.a,{exact:!0,path:"/profile",children:Object(h.jsx)(S,{userObj:c})}),Object(h.jsx)(b.a,{exact:!0,path:"/createTimeTable",children:Object(h.jsx)(f,{userObj:c})}),Object(h.jsx)(b.a,{children:Object(h.jsx)(k,{})})]})]})};c(48);var P=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(o.a)(s,2),i=r[0],u=r[1],b=Object(n.useState)(!1),d=Object(o.a)(b,2),O=d[0],m=d[1];return Object(n.useEffect)((function(){x.onAuthStateChanged(function(){var e=Object(l.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return n=p.collection("teacher").doc(t.uid),e.next=4,n.get().then((function(e){e.exists&&(c=e.data(),console.log(c),"\ub2f4\uc784\uc120\uc0dd\ub2d8"===c.role?u({uid:t.uid,displayName:t.displayName,emailVerified:t.emailVerified,role:c.role,classNo:c.grade+c.classNo,updateProfile:function(e){return t.updateProfile(e)}}):u({uid:t.uid,displayName:t.displayName,emailVerified:t.emailVerified,role:c.role,classNo:"",updateProfile:function(e){return t.updateProfile(e)}}))})).catch((function(e){console.log("Error getting document:",e)}));case 4:m(!0),e.next=8;break;case 7:m(!1);case 8:a(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(C,{isLoggedIn:O,userObj:i}):Object(h.jsxs)("div",{className:"loading_div",children:[Object(h.jsx)("img",{src:g,className:"loading",width:"50px"}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694..."})]})})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.301afe2d.chunk.js.map